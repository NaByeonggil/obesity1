# μ™Έλ¶€ μ ‘μ† λ¶κ°€ λ¬Έμ  μ§„λ‹¨ λ° ν•΄κ²°

## π” λ¬Έμ  μ§„λ‹¨ κ²°κ³Ό

### β… μ„λ²„ μƒνƒ (μ •μƒ)
- **μ„λ²„ λ‚΄λ¶€ IP**: 192.168.219.106 (λ΅μ»¬ λ„¤νΈμ›ν¬)
- **κ³µμΈ IP**: 182.221.232.82
- **DNS μ„¤μ •**: obesity.ai.kr β†’ 182.221.232.82 β“
- **Nginx**: 0.0.0.0:80, 0.0.0.0:443 λ¦¬μ¤λ‹ β“
- **SSL μΈμ¦μ„**: μ •μƒ β“

### β λ¬Έμ μ  λ°κ²¬

**μ„λ²„κ°€ μ‚¬μ„¤ IP(192.168.x.x)λ¥Ό μ‚¬μ©ν•λ” κ°€μ •/μ‚¬λ¬΄μ‹¤ ν™κ²½μ…λ‹λ‹¤.**

μ΄λ” μ„λ²„κ°€ κ³µμ κΈ°(λΌμ°ν„°) λ’¤μ— μλ‹¤λ” μλ―Έμ΄λ©°, μ™Έλ¶€μ—μ„ μ ‘μ†ν•λ ¤λ©΄ **ν¬νΈν¬μ›λ”©** μ„¤μ •μ΄ ν•„μ”ν•©λ‹λ‹¤.

---

## π¨ μ™Έλ¶€ μ ‘μ†μ΄ μ• λλ” μ΄μ 

### ν„μ¬ λ„¤νΈμ›ν¬ κµ¬μ΅°:
```
μΈν„°λ„· β†’ κ³µμ κΈ°(182.221.232.82) β†’ μ„λ²„(192.168.219.106)
                 β†‘
            ν¬νΈν¬μ›λ”© ν•„μ”!
```

**λ¬Έμ **: κ³µμ κΈ°μ—μ„ ν¬νΈν¬μ›λ”©μ΄ μ„¤μ •λμ–΄ μμ§€ μ•μ•„ μ™Έλ¶€ νΈλν”½μ΄ μ„λ²„λ΅ μ „λ‹¬λμ§€ μ•μ

---

## β… ν•΄κ²° λ°©λ²•

### λ°©λ²• 1: ν¬νΈν¬μ›λ”© μ„¤μ • (κ¶μ¥)

κ³µμ κΈ°(λΌμ°ν„°) κ΄€λ¦¬ νμ΄μ§€μ—μ„ ν¬νΈν¬μ›λ”©μ„ μ„¤μ •ν•΄μ•Ό ν•©λ‹λ‹¤.

#### 1λ‹¨κ³„: κ³µμ κΈ° κ΄€λ¦¬ νμ΄μ§€ μ ‘μ†

λ³΄ν†µ λ‹¤μ μ£Όμ† μ¤‘ ν•λ‚:
- http://192.168.219.1 (κ°€μ¥ μΌλ°μ )
- http://192.168.0.1
- http://192.168.1.1
- http://10.0.0.1

λλ”:
```bash
# κΈ°λ³Έ κ²μ΄νΈμ›¨μ΄ ν™•μΈ
ip route | grep default
# μ¶λ ¥ μ: default via 192.168.219.1
```

#### 2λ‹¨κ³„: ν¬νΈν¬μ›λ”© κ·μΉ™ μ¶”κ°€

κ³µμ κΈ° κ΄€λ¦¬ νμ΄μ§€μ—μ„ λ‹¤μ μ„¤μ •μ„ μ¶”κ°€:

**κ·μΉ™ 1: HTTP (ν¬νΈ 80)**
```
μ„λΉ„μ¤ μ΄λ¦„: HTTP
μ™Έλ¶€ ν¬νΈ: 80
λ‚΄λ¶€ IP μ£Όμ†: 192.168.219.106
λ‚΄λ¶€ ν¬νΈ: 80
ν”„λ΅ν† μ½: TCP
μƒνƒ: ν™μ„±ν™”
```

**κ·μΉ™ 2: HTTPS (ν¬νΈ 443)**
```
μ„λΉ„μ¤ μ΄λ¦„: HTTPS
μ™Έλ¶€ ν¬νΈ: 443
λ‚΄λ¶€ IP μ£Όμ†: 192.168.219.106
λ‚΄λ¶€ ν¬νΈ: 443
ν”„λ΅ν† μ½: TCP
μƒνƒ: ν™μ„±ν™”
```

**κ·μΉ™ 3: SSH (ν¬νΈ 22) - μ„ νƒμ‚¬ν•­**
```
μ„λΉ„μ¤ μ΄λ¦„: SSH
μ™Έλ¶€ ν¬νΈ: 22 (λλ” λ‹¤λ¥Έ ν¬νΈ)
λ‚΄λ¶€ IP μ£Όμ†: 192.168.219.106
λ‚΄λ¶€ ν¬νΈ: 22
ν”„λ΅ν† μ½: TCP
μƒνƒ: ν™μ„±ν™”
```

#### 3λ‹¨κ³„: μ„λ²„ IP κ³ μ •

ν¬νΈν¬μ›λ”©μ΄ κ³„μ† μ‘λ™ν•λ ¤λ©΄ μ„λ²„μ λ‚΄λ¶€ IPλ¥Ό κ³ μ •ν•΄μ•Ό ν•©λ‹λ‹¤.

**μµμ… A: κ³µμ κΈ°μ—μ„ DHCP μμ•½ (κ¶μ¥)**
- κ³µμ κΈ° κ΄€λ¦¬ νμ΄μ§€ β†’ DHCP μ„¤μ • β†’ IP μμ•½/κ³ μ •
- μ„λ²„μ MAC μ£Όμ†μ— 192.168.219.106 IP ν• λ‹Ή

**μµμ… B: μ„λ²„μ—μ„ κ³ μ • IP μ„¤μ •**
```bash
# NetworkManager μ‚¬μ© (Ubuntu)
sudo nmcli connection modify "μ μ„  μ—°κ²° 1" \
  ipv4.addresses 192.168.219.106/24 \
  ipv4.gateway 192.168.219.1 \
  ipv4.dns "8.8.8.8,8.8.4.4" \
  ipv4.method manual

sudo nmcli connection up "μ μ„  μ—°κ²° 1"
```

---

### λ°©λ²• 2: DMZ μ„¤μ • (κ°„λ‹¨ν•μ§€λ§ λ³΄μ• μ„ν—)

**μ£Όμ**: DMZλ” μ„λ²„λ¥Ό μΈν„°λ„·μ— μ§μ ‘ λ…Έμ¶μ‹ν‚¤λ―€λ΅ λ³΄μ•μƒ κ¶μ¥ν•μ§€ μ•μ

κ³µμ κΈ° κ΄€λ¦¬ νμ΄μ§€μ—μ„:
1. DMZ μ„¤μ • λ©”λ‰΄ μ°ΎκΈ°
2. DMZ νΈμ¤νΈ IP: 192.168.219.106 μ…λ ¥
3. DMZ ν™μ„±ν™”

**λ³΄μ• μ„ν—**: λ¨λ“  ν¬νΈκ°€ μ—΄λ¦¬λ―€λ΅ λ°©ν™”λ²½ μ„¤μ • ν•„μ!

---

### λ°©λ²• 3: Cloudflare Tunnel (ν¬νΈν¬μ›λ”© λ¶κ°€λ¥ν•  λ•)

ν¬νΈν¬μ›λ”©μ΄ λ¶κ°€λ¥ν• ν™κ²½(κ³µμ© λ„¤νΈμ›ν¬, ISP μ°¨λ‹¨ λ“±)μ—μ„ μ‚¬μ©

#### μ„¤μΉ:
```bash
# Cloudflared μ„¤μΉ
wget -q https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb
sudo dpkg -i cloudflared-linux-amd64.deb

# Cloudflare λ΅κ·ΈμΈ
cloudflared tunnel login

# ν„°λ„ μƒμ„±
cloudflared tunnel create obesity-tunnel

# ν„°λ„ λΌμ°ν…
cloudflared tunnel route dns obesity-tunnel obesity.ai.kr

# μ„¤μ • νμΌ μƒμ„±
cat > ~/.cloudflared/config.yml << EOF
tunnel: obesity-tunnel
credentials-file: /home/$(whoami)/.cloudflared/<TUNNEL-ID>.json

ingress:
  - hostname: obesity.ai.kr
    service: http://localhost:3000
  - hostname: www.obesity.ai.kr
    service: http://localhost:3000
  - service: http_status:404
EOF

# ν„°λ„ μ‹¤ν–‰
cloudflared tunnel run obesity-tunnel
```

---

## π§ ν¬νΈν¬μ›λ”© ν…μ¤νΈ

### 1. μ™Έλ¶€μ—μ„ ν…μ¤νΈ (μ¤λ§νΈν° LTE μ‚¬μ©)

μ¤λ§νΈν°μ—μ„ WiFiλ¥Ό λ„κ³  λ¨λ°”μΌ λ°μ΄ν„°λ΅:
```
http://obesity.ai.kr
https://obesity.ai.kr
```

### 2. μ¨λΌμΈ ν¬νΈ μ²΄ν¬ λ„κµ¬

λ‹¤μ μ‚¬μ΄νΈμ—μ„ ν¬νΈκ°€ μ—΄λ ¤μλ”μ§€ ν™•μΈ:
- https://www.yougetsignal.com/tools/open-ports/
- https://portchecker.co/

**μ…λ ¥**:
- IP: 182.221.232.82 (λλ” obesity.ai.kr)
- Port: 80, 443

**μμƒ κ²°κ³Ό**:
- ν¬νΈν¬μ›λ”© μ „: "Port is closed" β
- ν¬νΈν¬μ›λ”© ν›„: "Port is open" β…

### 3. λ…λ Ήμ–΄λ΅ ν…μ¤νΈ

μ™Έλ¶€ μ„λ²„(VPS λ“±)μ—μ„:
```bash
# HTTP ν…μ¤νΈ
curl -I http://obesity.ai.kr

# HTTPS ν…μ¤νΈ
curl -I https://obesity.ai.kr

# ν¬νΈ μ—°κ²° ν…μ¤νΈ
nc -zv obesity.ai.kr 80
nc -zv obesity.ai.kr 443
```

---

## π“‹ κ³µμ κΈ°λ³„ ν¬νΈν¬μ›λ”© μ„¤μ • λ°©λ²•

### μΌλ°μ μΈ κ³µμ κΈ° λ©”λ‰΄ μ„μΉ:

**κ³µν†µ κ²½λ΅**:
```
κ΄€λ¦¬μ νμ΄μ§€ λ΅κ·ΈμΈ
β†’ κ³ κΈ‰ μ„¤μ • / Advanced
β†’ NAT / ν¬νΈν¬μ›λ”© / Port Forwarding / Virtual Server
β†’ μƒ κ·μΉ™ μ¶”κ°€
```

### μ£Όμ” κ³µμ κΈ° μ μ΅°μ‚¬λ³„:

1. **ipTIME (μ•„μ΄ν”Όνƒ€μ„)**
   - http://192.168.0.1
   - κ΄€λ¦¬λ„κµ¬ β†’ κ³ κΈ‰ μ„¤μ • β†’ NAT/λΌμ°ν„° κ΄€λ¦¬ β†’ ν¬νΈν¬μ›λ“ μ„¤μ •

2. **KT (olleh WiFi)**
   - http://172.30.1.254
   - κ³ κΈ‰ μ„¤μ • β†’ NAT/λΌμ°ν„° κΈ°λ¥ β†’ ν¬νΈ ν¬μ›λ”©

3. **SK λΈλ΅λ“λ°΄λ“**
   - http://192.168.35.1
   - κ΄€λ¦¬λ„κµ¬ β†’ κ³ κΈ‰ μ„¤μ • β†’ ν¬νΈν¬μ›λ”©

4. **LG U+**
   - http://192.168.219.1
   - κ³ κΈ‰μ„¤μ • β†’ λ³΄μ• β†’ ν¬νΈν¬μ›λ”©

5. **TP-Link**
   - http://192.168.0.1
   - Advanced β†’ NAT Forwarding β†’ Virtual Servers

6. **ASUS**
   - http://192.168.1.1
   - WAN β†’ Virtual Server/Port Forwarding

---

## π”§ νΈλ¬λΈ”μν…

### λ¬Έμ  1: κ³µμ κΈ° κ΄€λ¦¬ νμ΄μ§€ μ ‘μ† μ• λ¨
```bash
# κΈ°λ³Έ κ²μ΄νΈμ›¨μ΄ ν™•μΈ
ip route | grep default

# λλ”
route -n | grep "^0.0.0.0"
```

### λ¬Έμ  2: ν¬νΈν¬μ›λ”© μ„¤μ •ν–λ”λ°λ„ μ• λ¨

**μ²΄ν¬λ¦¬μ¤νΈ**:
- [ ] μ„λ²„ IPκ°€ λ§λ”κ°€? (192.168.219.106)
- [ ] ν¬νΈ λ²νΈκ°€ λ§λ”κ°€? (80, 443)
- [ ] ν”„λ΅ν† μ½μ΄ TCPμΈκ°€?
- [ ] κ·μΉ™μ΄ ν™μ„±ν™”λμ–΄ μλ”κ°€?
- [ ] κ³µμ κΈ°λ¥Ό μ¬μ‹μ‘ν–λ”κ°€?
- [ ] μ„λ²„ λ°©ν™”λ²½μ΄ κΊΌμ Έμλ”κ°€? (UFW λΉ„ν™μ„± ν™•μΈλ¨ β“)

### λ¬Έμ  3: ISP(ν†µμ‹ μ‚¬)μ—μ„ 80, 443 ν¬νΈ μ°¨λ‹¨

μΌλ¶€ ISPλ” κ°€μ •μ© μΈν„°λ„·μ—μ„ μ›Ή μ„λ²„ μ΄μμ„ μ ν•ν•©λ‹λ‹¤.

**ν•΄κ²°μ±…**:
1. ISPμ— λ¬Έμν•μ—¬ ν¬νΈ κ°λ°© μ”μ²­
2. λΉ„ν‘μ¤€ ν¬νΈ μ‚¬μ© (μ: 8080, 8443)
3. Cloudflare Tunnel μ‚¬μ©
4. ν΄λΌμ°λ“ μ„λ²„(AWS, GCP λ“±)λ΅ μ΄μ „

### λ¬Έμ  4: λ™μ  IP λ¬Έμ 

κ³µμΈ IPκ°€ μ£ΌκΈ°μ μΌλ΅ λ°”λ€λ” κ²½μ°:

**ν•΄κ²°μ±… A: DDNS μ‚¬μ©**
```bash
# No-IP λλ” DuckDNS μ‚¬μ©
# μ: obesity.duckdns.org β†’ ν„μ¬ IPλ΅ μλ™ μ—…λ°μ΄νΈ
```

**ν•΄κ²°μ±… B: Cloudflare APIλ΅ μλ™ μ—…λ°μ΄νΈ**
```bash
# ν¬λ΅ μ΅μΌλ΅ IP λ³€κ²½ μ‹ μλ™ μ—…λ°μ΄νΈ
```

---

## π“ ν„μ¬ μƒν™© μ”μ•½

### β… μ •μƒ μ‘λ™:
- μ„λ²„ λ‚΄λ¶€μ—μ„ μ ‘μ†: β“
- localhost μ ‘μ†: β“
- κ°™μ€ λ„¤νΈμ›ν¬(192.168.219.x)μ—μ„ μ ‘μ†: β“
- SSL μΈμ¦μ„: β“
- DNS μ„¤μ •: β“

### β μ‘λ™ μ• ν•¨:
- μ™Έλ¶€ μΈν„°λ„·μ—μ„ μ ‘μ†: β—

### π”§ ν•„μ”ν• μ΅°μΉ:
1. **κ³µμ κΈ° ν¬νΈν¬μ›λ”© μ„¤μ •** (ν•„μ)
   - ν¬νΈ 80 β†’ 192.168.219.106:80
   - ν¬νΈ 443 β†’ 192.168.219.106:443

2. **μ„λ²„ IP κ³ μ •** (κ¶μ¥)
   - DHCP μμ•½ λλ” κ³ μ • IP μ„¤μ •

3. **ν…μ¤νΈ**
   - λ¨λ°”μΌ λ°μ΄ν„°λ΅ μ ‘μ† ν™•μΈ

---

## π― λΉ λ¥Έ ν•΄κ²° κ°€μ΄λ“

### 1λ‹¨κ³„: κ³µμ κΈ° μ ‘μ†
```bash
# κ²μ΄νΈμ›¨μ΄ IP ν™•μΈ
ip route | grep default
# μ¶λ ¥: default via 192.168.219.1

# λΈλΌμ°μ €μ—μ„ μ ‘μ†
http://192.168.219.1
```

### 2λ‹¨κ³„: ν¬νΈν¬μ›λ”© μ¶”κ°€
```
ν¬νΈ 80:  192.168.219.106:80
ν¬νΈ 443: 192.168.219.106:443
```

### 3λ‹¨κ³„: κ³µμ κΈ° μ¬μ‹μ‘

### 4λ‹¨κ³„: ν…μ¤νΈ
```bash
# μ¤λ§νΈν° LTEλ΅
https://obesity.ai.kr
```

---

## π’΅ λ€μ•: ν΄λΌμ°λ“ μ„λ²„ μ‚¬μ©

κ°€μ •/μ‚¬λ¬΄μ‹¤ ν™κ²½μ μ μ•½μ΄ λ§λ‹¤λ©΄ ν΄λΌμ°λ“ μ„λ²„ μ‚¬μ© κ¶μ¥:

**μ¥μ **:
- ν¬νΈν¬μ›λ”© λ¶ν•„μ”
- κ³ μ • IP μ κ³µ
- μ•μ •μ μΈ λ„¤νΈμ›ν¬
- λ” λ‚μ€ μ„±λ¥

**μµμ…**:
- AWS EC2 (ν”„λ¦¬ν‹°μ–΄ 1λ…„ λ¬΄λ£)
- Google Cloud Compute Engine (300$ ν¬λ λ”§)
- DigitalOcean (5$/μ›”~)
- Vultr (2.5$/μ›”~)
- Oracle Cloud (λ¬΄λ£ ν‹°μ–΄ ν‰μƒ)

---

## π“ μ¶”κ°€ μ§€μ›

λ‹¤μ μ •λ³΄ ν™•μΈ ν•„μ”:
```bash
# 1. λ„¤νΈμ›ν¬ μ •λ³΄
ip route
ip addr

# 2. κ³µμ κΈ° λ¨λΈ ν™•μΈ
# (κ³µμ κΈ° λ³Έμ²΄ λ’·λ©΄ μ¤ν‹°μ»¤ ν™•μΈ)

# 3. ISP(ν†µμ‹ μ‚¬) ν™•μΈ
# KT, SK λΈλ΅λ“λ°΄λ“, LG U+ λ“±
```

---

**κ²°λ΅ **: μ„λ²„ μμ²΄λ” μ •μƒμ΄μ§€λ§, **κ³µμ κΈ° ν¬νΈν¬μ›λ”©μ΄ μ„¤μ •λμ§€ μ•μ•„** μ™Έλ¶€μ—μ„ μ ‘μ†ν•  μ μ—†μµλ‹λ‹¤.
